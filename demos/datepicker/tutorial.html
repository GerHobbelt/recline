---
layout: moviri
title: Demos - DatePicker
recline-deps: true
root: ../../
---


<div class="row-fluid">
    <div class="span3" style="height: 200px;">
        <div id="filter_period"></div>
    </div>


</div>
<div class="row-fluid">
    <div class="span3">
        </div>
    <div class="span3">
        <div id="currentfilters"></div>

    </div>
    <div class="span3">
        compare
        <div id="currentfilters_compare"></div>
    </div>
</div>
<div class="row-fluid">
    <div class="span3">

    </div>
    <div class="span3">
        <div id="grid" style="height: 600px;"></div>
    </div>
    <div class="span3">
    <div id="grid_compare" style="height: 600px;"></div>
    </div>
</div>

<script>
    var dataset = new recline.Model.Dataset({
        records:[
            {id:1,  date:new Date(2012, 9, 1, 9, 0, 0, 0)},
            {id:2,  date:new Date(2012, 9, 2, 10, 0, 0, 0)},
            {id:3,  date:new Date(2012, 9, 3, 11, 0, 0, 0)},
            {id:4,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:5, date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:6,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:7,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:8,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:9,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:10,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:11,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:12,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:13,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:14,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:15,  y:450, date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:16,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:17,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:18,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:19, date:new Date(2012, 9, 4, 12, 0, 0, 0)}


        ],
        fields:[
            {id:'date', type:"date"}
        ]
    });

    var dataset_compare = new recline.Model.Dataset({
        records:[
            {id:1,  date:new Date(2012, 9, 1, 9, 0, 0, 0)},
            {id:2,  date:new Date(2012, 9, 2, 10, 0, 0, 0)},
            {id:3,  date:new Date(2012, 9, 3, 11, 0, 0, 0)},
            {id:4,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:5, date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:6,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:7,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:8,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:9,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:10,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:11,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:12,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:13,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:14,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:15,  y:450, date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:16,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:17,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:18,  date:new Date(2012, 9, 4, 12, 0, 0, 0)},
            {id:19, date:new Date(2012, 9, 4, 12, 0, 0, 0)}


        ],
        fields:[
            {id:'date', type:"date"}
        ]
    });


    var action = new recline.Action({
        filters:{
            filter_date_range:{type:"range", field:"date", fieldType:"date"}
        },
        models:[
            {
                model:dataset,
                filters:["filter_date_range"]
            }
        ],
        type:["filter"]
    });

    var action_compare = new recline.Action({
        filters:{
            filter_date_range:{type:"range", field:"date", fieldType:"date"}
        },
        models:[
            {
                model:dataset_compare,
                filters:["filter_date_range"]
            }
        ],
        type:["filter"]
    });


    var filter_period = new recline.View.DatePicker({
        actions:[
            {
                action:action,
                mapping:[
                    {srcField:"date", filter:"filter_date_range"}
                ],
                event:["selection"]
            },
            {
                action:action_compare,
                mapping:[
                    {srcField:"date", filter:"filter_date_range"}
                ],
                event:["selection_compare"]
            }
        ]
    });
    $('#filter_period').append(filter_period.el);
    filter_period.render();


    var $el = $('#grid');
    var grid1 = new recline.View.SlickGrid({
        model:dataset,
        el:$el,
        state: {
            fitColumns:true,
            useHoverStyle: true,
            useStripedStyle: true,
            useCondensedStyle: true,
            showLineNumbers: true
        }
    });
    grid1.visible = true;
    grid1.render();

    var $el = $('#grid_compare');
    var grid2 = new recline.View.SlickGrid({
        model:dataset_compare,
        el:$el,
        state: {
            fitColumns:true,
            useHoverStyle: true,
            useStripedStyle: true,
            useCondensedStyle: true,
            showLineNumbers: true
        }
    });
    grid2.visible = true;
    grid2.render();

    var $el = $('#currentfilters');
    var currentfilters = new recline.View.CurrentFilter({
        models:[dataset],
        el:$el
    });
    currentfilters.render();

    var $el = $('#currentfilters_compare');
    var currentfilters_compare = new recline.View.CurrentFilter({
        models:[dataset_compare],
        el:$el
    });
    currentfilters_compare.render();

</script>